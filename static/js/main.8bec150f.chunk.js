(this["webpackJsonpmine-sweeper-v2"]=this["webpackJsonpmine-sweeper-v2"]||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a(16)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(7),r=a.n(l),o=(a(13),a(5)),s=a(1),c=a(2),u=a(4),m=a(3),f=(a(14),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).clickHandler=function(t){t.preventDefault(),e.count++,e.count>=2?(clearTimeout(e.timeout),e.count=0,e.props.onDoubleClick()):e.timeout=setTimeout((function(){e.count=0,e.props.onClick()}),150)},e.count=0,e}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{onClick:this.clickHandler},this.props.children)}}]),a}(n.Component));a(15);function v(e){var t=e.isLose,a=e.isWin,n=e.cell,l=n.isOpen,r=n.isMine,o=n.totalMine,s=n.isFlag;return i.a.createElement(f,{onDoubleClick:t||a?function(){}:e.toggleFlagHandler,onClick:t||a?function(){}:e.openCellHandler},i.a.createElement("div",{className:"cell"+(l?" open":"")},o,!l&&s&&(!r||!t)&&i.a.createElement("i",{className:"fas fa-flag-checkered"}),t&&r&&i.a.createElement("i",{className:"fas fa-bomb"})))}var d=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).getSettingLevelGame=function(e){var t,a,n;switch(e){case 1:t=10,a=10,n=5;break;case 2:t=30,a=15,n=10;break;case 3:t=60,a=20,n=15}return{totalMine:t,totalCol:n,totalRow:a}},n.newGame=function(e){for(var t=[],a=n.getSettingLevelGame(e),i=a.totalRow,l=a.totalCol,r=a.totalMine,o=0;o<i;o++){t[o]=[];for(var s=0;s<l;s++)t[o][s]={isOpen:!1,isFlag:!1,totalMineAround:null,isMine:!1}}n.timer=setInterval((function(){n.setState((function(e){return{time:e.time+1}}))}),1e3);for(var c=0;c<r;){var u=Math.round(Math.random()*(i-1)),m=Math.round(Math.random()*(l-1));t[u][m].isMine||(t[u][m].isMine=!0,c++)}n.setState({totalCol:l,totalMine:r,totalRow:i,list:t,isWin:!1,isLose:!1,isStarting:!1,time:0})},n.playAgainHandler=function(){n.setState({isStarting:!0,isLose:!1,isWin:!1}),clearInterval(n.timer)},n.countMineAround=function(e){for(var t=e.row,a=e.col,i=0,l=t-1;l<=t+1;l++)if(l>=0&&l<n.state.totalRow)for(var r=a-1;r<=a+1;r++)r>=0&&r<n.state.totalCol&&n.state.list[l][r].isMine&&i++;return i},n.checkIsWin=function(){for(var e=n.state,t=e.totalRow,a=e.totalCol,i=e.list,l=0;l<t;l++)for(var r=0;r<a;r++)if(!i[l][r].isOpen&&!i[l][r].isMine)return!1;return!0},n.openCellRegressiveHandler=function(e,t){var a=t.row,i=t.col;if(e[a][i].isOpen)return!1;if(e[a][i].isOpen=!0,e[a][i].isMine)return!0;var l=n.countMineAround(t);if(l>0)e[a][i].totalMine=l;else for(var r=0===a?0:-1,o=0===i?0:-1,s=a===n.state.totalRow-1?1:2,c=i===n.state.totalCol-1?1:2;r<s;r++)for(var u=o;u<c;u++)n.openCellRegressiveHandler(e,{row:a+r,col:i+u});return!1},n.openCellHandler=function(e){var t=Object(o.a)(n.state.list),a=n.openCellRegressiveHandler(t,e);n.setState({list:t,isLose:a},(function(){n.state.isLose?clearInterval(n.timer):n.checkIsWin()&&(clearInterval(n.timer),n.setState({isWin:!0}))}))},n.toggleFlagHander=function(e){var t=e.row,a=e.col,i=Object(o.a)(n.state.list);i[t][a].isFlag=!i[t][a].isFlag,n.setState({list:i})},n.state={list:[],isStarting:!0,totalRow:20,totalCol:10,totalMine:20,isLose:!1,isWin:!1,time:0},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"app"},i.a.createElement("header",null,i.a.createElement("h1",null,"D\xf2 m\xecn"),this.state.isWin&&i.a.createElement("h2",null,"WIN!"),this.state.isLose&&i.a.createElement("h2",null,"LOSER!"),!this.state.isStarting&&i.a.createElement("div",{className:"info"},i.a.createElement("div",{className:"flag"},i.a.createElement("i",{className:"fas fa-bomb"}),i.a.createElement("span",null,this.state.totalMine)),i.a.createElement("div",{className:"timer"},i.a.createElement("i",{className:"fas fa-clock"}),i.a.createElement("span",null,this.state.time," s")),i.a.createElement("button",{onClick:this.playAgainHandler},i.a.createElement("i",{className:"fas fa-redo-alt"}),i.a.createElement("span",null,"Ch\u01a1i l\u1ea1i")))),i.a.createElement("main",null,i.a.createElement("div",{className:"table"},this.state.isStarting?i.a.createElement("div",{className:"difficult-group"},i.a.createElement("button",{className:"easy",onClick:function(){return e.newGame(1)}},"D\u1ec5"),i.a.createElement("button",{className:"normal",onClick:function(){return e.newGame(2)}},"V\u1eeba"),i.a.createElement("button",{className:"hard",onClick:function(){return e.newGame(3)}},"Kh\xf3")):this.state.list.map((function(t,a){return i.a.createElement("div",{className:"row",key:a},t.map((function(t,n){return i.a.createElement(v,{key:n,cell:t,toggleFlagHandler:function(){return e.toggleFlagHander({row:a,col:n})},openCellHandler:function(){return e.openCellHandler({row:a,col:n})},isLose:e.state.isLose,isWin:e.state.isWin})})))})))))}}]),a}(n.PureComponent);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(d,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.8bec150f.chunk.js.map